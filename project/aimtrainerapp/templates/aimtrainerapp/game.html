{% extends "aimtrainerapp/base.html" %}

{% block content %}
<div class="game-container">
    <div id="game-area" class="game-area">
        <!-- Circles will be appended here -->
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const gameArea = document.getElementById("game-area");

        function getRandomPosition() {
            const maxWidth = gameArea.clientWidth - 100;
            const maxHeight = gameArea.clientHeight - 100;
            return {
                x: Math.random() * maxWidth,
                y: Math.random() * maxHeight
            };
        }

        function createCircle() {
            const position = getRandomPosition();
            const circle = document.createElement("div");
            circle.classList.add("circle");
            circle.style.left = `${position.x}px`;
            circle.style.top = `${position.y}px`;

            circle.addEventListener("click", function () {
                circle.remove();
                createCircle();
            });

            gameArea.appendChild(circle);
        }

        function initGame() {
            for (let i = 0; i < 3; i++) {
                createCircle();
            }
        }

        initGame();
    });
</script>
{% endblock %}